(function(w,undefined){if(typeof w.localStorage=="undefined")throw new Error("jscache: Your browser not support localStorage.");var J=function(conf){return new I(conf)};var O=function(){};O.p=O.prototype;O.p.prefix=O.p.expired=null;O.p.set=function(k,v,e){var k=P.g(this.prefix,k);return C.s(k,P.c(v,Date.now(),isNaN(Number(e))?this.expired:Number(e)))};O.p.get=function(k){k=P.g(this.prefix,k);var v=C.g(k);if(!v)return null;var d=P.p(v,Date.now());return d.e?C.d(k):d.d};O.p.del=function(k){return C.d(P.k(this.prefix,k))};O.p.flush=function(){return C.f(this.prefix)};var I=function(c){var d={prefix:J.prefix,expired:J.expired};if(typeof c=="object"){for(var x in c)d[x]=c[x]}else if(typeof c=="string"){d.prefix=c}else{}if(Q.hasOwnProperty(d.prefix)){r=Q[d.prefix]}else{r=new O;r.prefix=d.prefix;r.expired=d.expired;Q[d.prefix]=r}return r};var P={g:function(p,k){return p+":"+k},c:function(v,s,e){return JSON.stringify({d:v,s:s,e:0===e?0:e*6e4})},p:function(v,n){var t=JSON.parse(v);var e=0===t.e?false:n>t.s+t.e;return{d:t.d,e:e}}};var C={s:function(k,v){var r=false;try{J.storage.setItem(k,v);r=true}catch(e){J.lastError=e.name+":"+e.message}return r},g:function(k){return J.storage.getItem(k)},d:function(k){return J.storage.removeItem(k)},f:function(p){var t=0;var r=new RegExp("^"+p+":.+$");Object.keys(J.storage).forEach(function(k){if(r.test(k)){J.storage.removeItem(k);t++}});return t}};var Q={};J.prefix="jscache";J.expired=60;J.storage=w.localStorage;w.jscache=J})(window);